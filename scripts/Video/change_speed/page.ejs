<include type="style" src="css/player.css"/>

<script defer>
    const videoUrl = '<%= file %>';
    var videoSpeed = 1;

    const onSpeedSlide = () => {
        console.log($("#speed-slider").value);

        videoSpeed = $("#speed-slider").value;
        $("#video-player-src").playbackRate = videoSpeed;

        $("#speed-label").innerHTML = 'Current Speed: ' + videoSpeed + 'x';
    }
    </script>

<include type="script" src="js/playPause.js" defer/>
<include type="script" src="change_speed/export.js" defer/>

<div id="video-player">
    <videoPlayer src="<%= file %>" style=``
        outline: 1px solid rgb(35, 35, 35);
        border-radius: 0.5em;
        margin-block: 0.5em;
    `` id="video-player-src"/>

    <div class="speed-slider">
        <input oninput="onSpeedSlide()" type='range' min="0.1" max="2" value =1 step="0.1" id="speed-slider" list="tickmarks" style=``
            width: 500px;
        ``>
        <p id="speed-label">Current Speed: 1x</p>
    </div>

    <div id="down-buttons">
        <div class="left-buttons">
            <button class="noselect" id="play-button">
                <i class="fa-solid fa-play" id="play-icon"></i>
                <i class="fa-solid fa-pause" id="pause-icon" style="display: none;"></i>
            </button>
            <button class="noselect" id="export-button">
                Change Speed
            </button>
        </div>
        <div class="right-buttons">
            <a href="<%= file %>" download="<%= fileName %>"><button class="noselect" id="download-button">
                Download current
            </button></a>
        </div>
    </div>
</div>